box: perl:5.18.2

build:
  steps:
    - install-packages:
        package: ruby2.1

    - script:
        name: install cpanm
        code: |
          curl -L https://cpanmin.us/ -o cpanm
          chmod +x cpanm
          mv cpanm /usr/bin

    - script:
        name: install carton
        code: |
          cpanm install Carton

    - script:
        name: install dependencies
        code: |
          carton install

  after-steps:
    - wantedly/pretty-slack-notify:
        webhook_url: $SLACK_WEBHOOK_URL
